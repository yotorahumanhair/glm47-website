<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Yotara | Premium Human Hair Collection</title>

<!-- Google Fonts for Editorial Look -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

<style>
/*
* DESIGN SYSTEM & THEME
*/
:root {
/* Palette Core */
--primary-burgundy: #5A1A26;
--primary-wine: #722F37;
--secondary-sand: #F2EBE0;
--white: #FFFFFF;
--off-white: #F9F9F9;
--accent-cognac: #9E6B53;
--accent-gold: #C5A059;
--text-dark: #3E1B21;
--text-light: #F2EBE0;
--success: #27ae60;

/* Effects */
--shadow-sm: 0 4px 6px rgba(94, 26, 38, 0.05);
--shadow-md: 0 10px 25px rgba(94, 26, 38, 0.1);
--shadow-lg: 0 25px 50px -12px rgba(94, 26, 38, 0.25);
--shadow-hover: 0 20px 40px rgba(158, 107, 83, 0.15);
--shadow-premium: 0 20px 60px rgba(62, 27, 33, 0.15);

/* Spacing & Radius */
--radius: 12px;
--radius-lg: 24px;
--container-width: 1400px;

/* Typography */
--font-serif: 'Playfair Display', serif;
--font-sans: 'Inter', sans-serif;
--font-mono: 'JetBrains Mono', monospace;
}

/* RESET & BASE */
* { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
font-family: var(--font-sans);
background-color: var(--secondary-sand);
color: var(--primary-burgundy);
line-height: 1.6;
-webkit-font-smoothing: antialiased;
overflow-x: hidden;
padding-bottom: 80px;
}

/* TYPOGRAPHY */
h1, h2, h3, h4, h5, h6 {
font-family: var(--font-serif);
color: var(--primary-burgundy);
line-height: 1.1;
margin-bottom: 1rem;
}
p { margin-bottom: 1rem; color: #4a4a4a; }
a { text-decoration: none; color: inherit; transition: 0.3s; }

/* UTILITIES */
.container { max-width: var(--container-width); margin: 0 auto; padding: 0 2rem; }
.section-padding { padding: 6rem 0; }
.text-center { text-align: center; }
.flex { display: flex; }
.grid { display: grid; }
.hidden { display: none; }
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.gap-4 { gap: 1rem; }

/* ANIMATION UTILITIES */
.reveal-on-scroll {
opacity: 0;
transform: translateY(40px);
transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
}
.reveal-on-scroll.is-visible {
opacity: 1;
transform: translateY(0);
}

/* BUTTONS */
.btn {
display: inline-flex;
align-items: center;
justify-content: center;
padding: 14px 32px;
font-family: var(--font-sans);
font-weight: 600;
text-decoration: none;
border-radius: 50px;
transition: all 0.3s ease;
cursor: pointer;
border: none;
font-size: 1rem;
letter-spacing: 0.5px;
}

.btn-primary {
background-color: var(--primary-burgundy);
color: var(--white);
box-shadow: 0 4px 15px rgba(90, 26, 38, 0.3);
}
.btn-primary:hover {
background-color: var(--primary-wine);
transform: translateY(-3px);
box-shadow: 0 10px 25px rgba(158, 107, 83, 0.25);
}

.btn-gold {
background-color: var(--accent-gold);
color: var(--primary-burgundy);
}
.btn-gold:hover {
background-color: #fff;
box-shadow: 0 0 20px rgba(197, 160, 89, 0.4);
}

.btn-outline {
background: transparent;
border: 2px solid var(--primary-burgundy);
color: var(--primary-burgundy);
padding: 12px 28px;
}
.btn-outline:hover {
background: var(--primary-burgundy);
color: var(--white);
}

/* HEADER */
header {
position: fixed; top: 0; left: 0; width: 100%;
background: rgba(242, 235, 224, 0.9);
backdrop-filter: blur(12px);
z-index: 1000;
border-bottom: 1px solid rgba(90, 26, 38, 0.05);
height: 90px; display: flex; align-items: center; transition: all 0.3s ease;
}
header.scrolled { height: 70px; box-shadow: var(--shadow-sm); }

.header-content { display: flex; justify-content: space-between; align-items: center; width: 100%; }

.logo-text {
font-family: var(--font-serif);
font-size: 1.8rem; font-weight: 700;
color: var(--primary-burgundy); letter-spacing: -0.5px;
display: flex; align-items: center; gap: 0.5rem;
}
.logo-text span { color: var(--accent-cognac); }

.nav-icons { display: flex; gap: 1rem; align-items: center; }

.icon-btn {
background: rgba(90, 26, 38, 0.05);
border: none; cursor: pointer; color: var(--primary-burgundy);
width: 45px; height: 45px; border-radius: 50%;
display: flex; align-items: center; justify-content: center;
transition: all 0.3s;
}
.icon-btn:hover {
background: var(--primary-burgundy);
color: var(--accent-gold);
transform: rotate(15deg);
}

/* HERO SECTION */
.hero-section {
margin-top: 90px; min-height: calc(100vh - 90px);
display: flex; align-items: center; position: relative;
padding-bottom: 4rem; overflow: hidden;
}

.hero-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: center; width: 100%; }
.hero-left { z-index: 2; padding-left: 1rem; }

.hero-badge {
display: inline-flex; align-items: center; gap: 8px;
background: rgba(197, 160, 89, 0.15); color: var(--primary-burgundy);
padding: 8px 16px; border-radius: 30px; font-size: 0.8rem; font-weight: 700;
text-transform: uppercase; letter-spacing: 1px; margin-bottom: 1.5rem;
border: 1px solid rgba(197, 160, 89, 0.3);
}

.hero-title {
font-size: clamp(3rem, 5vw, 5.5rem); line-height: 1.05; margin-bottom: 1.5rem; color: var(--primary-burgundy);
}
.hero-title span { color: var(--accent-cognac); font-style: italic; }
.hero-desc { font-size: 1.25rem; color: #555; max-width: 500px; margin-bottom: 2.5rem; line-height: 1.7; }

.hero-right {
position: relative; height: 80vh; border-radius: 160px 160px 20px 20px;
overflow: hidden; box-shadow: var(--shadow-premium);
}

.hero-slider-container { width: 100%; height: 100%; position: relative; }
.hero-slide {
position: absolute; inset: 0; background-size: cover; background-position: center top;
opacity: 0; transition: opacity 1.5s ease-in-out;
}
.hero-slide.active { opacity: 1; }

/* MARQUEE */
.marquee-section {
background: var(--primary-burgundy); padding: 1.5rem 0; overflow: hidden;
white-space: nowrap; position: relative;
border-top: 1px solid rgba(197, 160, 89, 0.2);
border-bottom: 1px solid rgba(197, 160, 89, 0.2);
transform: rotate(-2deg) scale(1.05); margin: -3rem 0 4rem 0; z-index: 10;
}

.marquee-content { display: inline-block; animation: marquee 30s linear infinite; }
.marquee-item {
display: inline-block; color: var(--accent-gold);
font-family: var(--font-serif); font-size: 1.5rem; margin: 0 2rem; text-transform: uppercase;
}
.marquee-item svg { vertical-align: middle; margin: 0 10px; fill: var(--white); }

@keyframes marquee {
0% { transform: translateX(0); }
100% { transform: translateX(-50%); }
}

/* COLLECTIONS GRID */
.collections-grid {
display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 3rem;
}

.collection-card {
position: relative; border-radius: 20px; overflow: hidden; cursor: pointer;
aspect-ratio: 3/4; box-shadow: var(--shadow-md); transition: all 0.4s ease;
}
.collection-card:hover { transform: translateY(-10px); box-shadow: var(--shadow-premium); }

.collection-card img {
width: 100%; height: 100%; object-fit: cover; transition: transform 0.8s ease;
}
.collection-card:hover img { transform: scale(1.1); }

.collection-overlay {
position: absolute; inset: 0;
background: linear-gradient(to top, rgba(90, 26, 38, 0.9), rgba(90, 26, 38, 0.1));
opacity: 0; transition: opacity 0.4s;
display: flex; flex-direction: column; justify-content: flex-end; padding: 2rem;
}
.collection-card:hover .collection-overlay { opacity: 1; }

.collection-title {
color: var(--white); font-size: 2rem; transform: translateY(20px); transition: 0.4s 0.1s;
}
.collection-desc {
color: var(--accent-gold); font-size: 0.95rem; opacity: 0; transition: 0.4s 0.2s;
}
.collection-card:hover .collection-title { transform: translateY(0); }
.collection-card:hover .collection-desc { opacity: 1; }

/* FEATURE ACCORDION */
.features-section {
background: var(--primary-burgundy); color: var(--white); position: relative; overflow: hidden;
}
.bg-blob {
position: absolute; width: 500px; height: 500px; background: var(--accent-cognac);
border-radius: 50%; filter: blur(100px); opacity: 0.2; z-index: 0;
}

.feature-accordion {
display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem; position: relative; z-index: 1;
}

.feature-item {
background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
border-radius: 20px; padding: 2rem; cursor: pointer; transition: all 0.5s cubic-bezier(0.22, 1, 0.36, 1);
position: relative; overflow: hidden; min-height: 280px; display: flex; flex-direction: column;
}
.feature-item:hover, .feature-item.active {
background: var(--secondary-sand); color: var(--primary-burgundy); flex: 2;
}
.feature-icon { font-size: 2rem; color: var(--accent-gold); margin-bottom: 1.5rem; transition: 0.3s; }
.feature-item.active .feature-icon { transform: scale(1.1); color: var(--primary-burgundy); }
.feature-content {
opacity: 0; transform: translateY(20px); transition: all 0.4s 0.2s; height: 0; overflow: hidden;
}
.feature-item.active .feature-content {
opacity: 1; transform: translateY(0); height: auto; margin-top: 1rem;
}

/* FEATURED PRODUCTS */
.product-card {
background: var(--white); border-radius: var(--radius-lg); overflow: hidden;
box-shadow: var(--shadow-sm); transition: all 0.3s;
position: relative; border: 1px solid rgba(0,0,0,0.05);
}
.product-card:hover { box-shadow: var(--shadow-hover); transform: translateY(-5px); }
.card-img-wrap { height: 400px; overflow: hidden; position: relative; }
.card-img-wrap img { width: 100%; height: 100%; object-fit: cover; transition: 0.6s; }
.product-card:hover .card-img-wrap img { transform: scale(1.05); }
.card-body { padding: 2rem; text-align: center; }

/* TESTIMONIALS */
.testimonial-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
.testimonial-card {
background: var(--white); padding: 2.5rem; border-radius: 20px;
box-shadow: var(--shadow-md); border-top: 4px solid var(--accent-gold);
}
.stars { color: var(--accent-gold); margin-bottom: 1rem; }
.quote { font-family: var(--font-serif); font-size: 1.2rem; font-style: italic; color: var(--text-dark); }
.author { margin-top: 1.5rem; font-weight: 700; color: var(--primary-burgundy); }

/* CTA SECTION */
.cta-section {
background: var(--text-dark); color: var(--white); border-radius: 40px;
padding: 6rem 2rem; text-align: center; position: relative; overflow: hidden;
margin: 4rem auto; max-width: 1400px;
}
.cta-bg-img {
position: absolute; inset: 0; background-size: cover; background-position: center;
opacity: 0.3; mix-blend-mode: overlay; z-index: 0;
animation: kenburns 20s infinite alternate;
}
@keyframes kenburns { from { transform: scale(1); } to { transform: scale(1.1); } }
.cta-content { position: relative; z-index: 2; }
.cta-title { color: var(--accent-gold); font-size: clamp(2.5rem, 6vw, 4.5rem); margin-bottom: 1.5rem; }

/* FOOTER */
footer { background: var(--primary-burgundy); color: var(--secondary-sand); padding-top: 4rem; border-top: 4px solid var(--accent-gold); position: relative; }
.footer-grid { display: grid; grid-template-columns: 1.5fr 1fr 1fr; gap: 3rem; margin-bottom: 3rem; }
.footer-links li { margin-bottom: 0.8rem; list-style: none; }
.footer-links a { color: rgba(255,255,255,0.7); transition: 0.2s; }
.footer-links a:hover { color: var(--accent-gold); padding-left: 5px; }
.legal-line { font-size: 0.75rem; opacity: 0.4; text-align: center; padding-bottom: 2rem; border-top: 1px solid rgba(255,255,255,0.1); }

/* MODAL SYSTEM */
.modal-overlay {
position: fixed; inset: 0; background: rgba(30, 10, 14, 0.7); backdrop-filter: blur(8px);
z-index: 2000; display: flex; align-items: center; justify-content: center;
opacity: 0; visibility: hidden; transition: 0.3s;
}
.modal-overlay.active { opacity: 1; visibility: visible; }
.modal-content {
background: var(--secondary-sand); width: 95%; max-width: 1000px; max-height: 90vh; overflow-y: auto;
border-radius: 24px; padding: 3rem; position: relative;
transform: translateY(30px); transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
border: 1px solid rgba(197, 160, 89, 0.3); box-shadow: var(--shadow-lg);
}
.modal-overlay.active .modal-content { transform: translateY(0); }
.close-modal {
position: absolute; top: 20px; right: 20px; background: var(--white); border: none;
width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.5rem;
display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-sm); z-index: 10;
}
.close-modal:hover { background: var(--primary-burgundy); color: #fff; }

.catalog-layout { display: grid; grid-template-columns: 250px 1fr; gap: 2rem; height: 70vh; }
.catalog-sidebar { border-right: 1px solid rgba(0,0,0,0.1); padding-right: 1rem; overflow-y: auto; }
.catalog-btn {
display: block; width: 100%; text-align: left; padding: 1rem; background: transparent;
border: none; cursor: pointer; font-family: var(--font-serif); font-size: 1.1rem;
color: var(--text-dark); border-radius: 10px; margin-bottom: 0.5rem; transition: 0.2s;
}
.catalog-btn:hover, .catalog-btn.active { background: rgba(90, 26, 38, 0.1); color: var(--primary-burgundy); font-weight: 700; }
.catalog-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1.5rem; overflow-y: auto; padding-right: 0.5rem; }
.sku-card { background: #fff; border-radius: 12px; padding: 1rem; text-align: center; border: 1px solid rgba(0,0,0,0.05); transition: 0.2s; cursor: pointer; }
.sku-card:hover { border-color: var(--accent-gold); box-shadow: var(--shadow-md); }

.payment-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 2rem; }
.pay-card {
background: #fff; border: 2px solid transparent; border-radius: 16px;
padding: 2rem; cursor: pointer; text-align: center; transition: 0.3s;
}
.pay-card:hover { border-color: var(--accent-gold); box-shadow: var(--shadow-md); transform: translateY(-3px); }
.pay-logo {
height: 50px; width: 100%; display: flex; align-items: center; justify-content: center;
font-weight: 900; color: #f1c40f; text-shadow: 1px 1px 0 #000; font-size: 1.2rem; margin-bottom: 1rem;
border: 2px solid #eee; border-radius: 8px;
}

/* ----------------------------------------------------
   NEW: BACKEND FLOW VISUALIZATION STYLES
   ---------------------------------------------------- */
.flow-container {
display: flex; flex-direction: column; gap: 1.5rem;
padding: 2rem; background: #fff; border-radius: 16px; border: 1px solid #eee;
display: none; /* Hidden by default, shown during processing */
}
.flow-container.active { display: flex; animation: fadeIn 0.5s ease; }

.flow-diagram {
display: flex; justify-content: space-between; align-items: center; position: relative;
padding: 1rem 0; margin-bottom: 1rem;
}
.flow-diagram::before {
content: ''; position: absolute; top: 50%; left: 0; width: 100%; height: 2px;
background: #eee; z-index: 0; transform: translateY(-50%);
}

.flow-node {
width: 60px; height: 60px; background: var(--secondary-sand); border: 2px solid #ddd;
border-radius: 50%; display: flex; align-items: center; justify-content: center;
z-index: 1; position: relative; transition: all 0.3s;
}
.flow-node svg { width: 24px; height: 24px; stroke: #999; transition: 0.3s; }
.flow-node.active {
background: var(--primary-burgundy); border-color: var(--primary-burgundy);
box-shadow: 0 0 15px rgba(90, 26, 38, 0.3);
}
.flow-node.active svg { stroke: #fff; }
.flow-node.success { background: var(--success); border-color: var(--success); }
.flow-node.success svg { stroke: #fff; }

.flow-status-text {
text-align: center; font-family: var(--font-mono); font-size: 0.9rem; color: var(--text-dark);
min-height: 1.2em; font-weight: 700;
}

.data-packet {
position: absolute; top: 50%; width: 8px; height: 8px; background: var(--accent-gold);
border-radius: 50%; transform: translate(-50%, -50%); z-index: 2;
opacity: 0; box-shadow: 0 0 10px var(--accent-gold);
}

/* Animations for data flow */
@keyframes transfer1 { 0% { left: 0%; opacity: 1; } 100% { left: 33.33%; opacity: 0; } }
@keyframes transfer2 { 0% { left: 33.33%; opacity: 1; } 100% { left: 66.66%; opacity: 0; } }
@keyframes transfer3 { 0% { left: 66.66%; opacity: 1; } 100% { left: 100%; opacity: 0; } }

.animating-1 .data-packet { animation: transfer1 1s linear forwards; }
.animating-2 .data-packet { animation: transfer2 1s linear forwards; }
.animating-3 .data-packet { animation: transfer3 1s linear forwards; }

/* System Log Console */
.system-log {
background: #1e1e1e; color: #0f0; font-family: var(--font-mono);
font-size: 0.75rem; padding: 1rem; border-radius: 8px; height: 120px;
overflow-y: auto; text-align: left; margin-top: 1rem; border: 1px solid #333;
display: none; /* Toggled via footer link */
}
.log-entry { margin-bottom: 4px; opacity: 0.8; }
.log-entry span { color: #888; margin-right: 8px; }
.console-toggle {
position: fixed; bottom: 20px; right: 20px; background: #1e1e1e; color: #fff;
padding: 10px; border-radius: 5px; font-family: var(--font-mono); font-size: 0.7rem;
cursor: pointer; opacity: 0.5; z-index: 5000;
}
.console-toggle:hover { opacity: 1; }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.cookie-banner {
position: fixed; bottom: -200%; left: 0; width: 100%;
background: var(--primary-burgundy); color: var(--secondary-sand);
padding: 2rem; z-index: 3000; border-top: 4px solid var(--accent-gold);
transition: bottom 0.6s ease; display: flex; justify-content: center; align-items: center; gap: 2rem;
}
.cookie-banner.active { bottom: 0; }

#toast {
visibility: hidden; min-width: 250px; background: var(--primary-burgundy); color: var(--accent-gold);
text-align: center; border-radius: 50px; padding: 16px; position: fixed; z-index: 4000;
left: 50%; bottom: 30px; transform: translateX(-50%); box-shadow: var(--shadow-hover);
transition: 0.3s;
}
#toast.show { visibility: visible; bottom: 50px; }

@media (max-width: 900px) {
.hero-grid { grid-template-columns: 1fr; gap: 2rem; }
.hero-right { height: 50vh; width: 90%; margin: 0 auto; border-radius: 20px; }
.hero-title { font-size: 3rem; }
.catalog-layout { grid-template-columns: 1fr; height: auto; }
.catalog-sidebar { display: flex; overflow-x: auto; padding-bottom: 1rem; border-right: none; border-bottom: 1px solid #ddd; }
.catalog-btn { width: auto; white-space: nowrap; margin-right: 0.5rem; }
.payment-grid { grid-template-columns: 1fr; }
.footer-grid { grid-template-columns: 1fr; }
.flow-diagram::before { display: none; } /* Hide line on mobile */
.flow-diagram { flex-direction: column; height: auto; gap: 1rem; }
.flow-node { width: 50px; height: 50px; }
.data-packet { display: none; } /* Hide packet on mobile */
}
</style>
</head>
<body>

<!-- COOKIE CONSENT -->
<div id="cookie-banner" class="cookie-banner">
<div style="max-width: 600px;">
<strong>We use cookies</strong> to enhance your experience and process payments securely.
</div>
<div style="display: flex; gap: 1rem;">
<button class="btn btn-primary" onclick="acceptCookies()">Accept</button>
<button class="btn btn-outline" style="border-color: rgba(255,255,255,0.3); color: #fff;" onclick="rejectCookies()">Reject</button>
</div>
</div>

<!-- HEADER -->
<header id="main-header">
<div class="container header-content">
<a href="#" class="logo">
<div class="logo-text">Yotara<span>.</span></div>
</a>
<nav class="nav-icons">
<button class="icon-btn" aria-label="Search">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
</button>
<button class="icon-btn" aria-label="Cart" onclick="openCollectionModal()">
<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path><line x1="3" y1="6" x2="21" y2="6"></line><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
</button>
</nav>
</div>
</header>

<main>
<!-- HERO SECTION -->
<section class="hero-section">
<div class="container hero-grid">
<div class="hero-left reveal-on-scroll">
<div class="hero-badge">
<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14 2 9.27l6.91-1.01L12 2Z"/></svg>
New Glow Up Collection
</div>
<h1 class="hero-title">
Crown the<br>
<span>Queen in You.</span>
</h1>
<p class="hero-desc">
Experience the perfect blend of luxury and warmth. 100% human hair designed to match your unique style, ethically sourced and crafted to perfection.
</p>
<div style="display: flex; gap: 1rem;">
<button class="btn btn-gold" onclick="openCollectionModal()">Shop Collection</button>
<button class="btn btn-outline" onclick="openAgentModal()">Consult Stylist</button>
</div>
</div>

<div class="hero-right reveal-on-scroll" style="transition-delay: 0.2s;">
<div class="hero-slider-container" id="hero-slider"></div>
</div>
</div>
</section>

<!-- MARQUEE -->
<div class="marquee-section">
<div class="marquee-content" id="marquee-content"></div>
</div>

<!-- COLLECTIONS GRID -->
<section class="section-padding">
<div class="container">
<div class="text-center reveal-on-scroll" style="margin-bottom: 4rem;">
<h2>Curated Textures</h2>
<p>From sleek straight styles to bouncy curls, find your signature look.</p>
</div>
<div class="collections-grid" id="collections-grid"></div>
</div>
</section>

<!-- FEATURE ACCORDION -->
<section class="section-padding features-section">
<div class="bg-blob" style="top: -100px; left: -100px;"></div>
<div class="bg-blob" style="bottom: -100px; right: -100px; background: var(--accent-gold);"></div>
<div class="container">
<div class="text-center reveal-on-scroll" style="margin-bottom: 3rem;">
<span style="color: var(--accent-gold); text-transform: uppercase; letter-spacing: 2px; font-size: 0.9rem;">Why Yotara</span>
<h2 style="color: white; margin-top: 10px;">The Standard of Luxury</h2>
</div>
<div class="feature-accordion">
<div class="feature-item active" onclick="toggleFeature(0)">
<div style="display: flex; justify-content: space-between; align-items: center;">
<div>
<svg class="feature-icon" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>
<h3>Authentic Quality</h3>
</div>
<span style="font-size: 2rem; opacity: 0.3; font-family: var(--font-serif);">01</span>
</div>
<div class="feature-content">
<p>Every product is 100% genuine human hair, sourced ethically. We maintain the highest standards of quality control.</p>
</div>
</div>
<div class="feature-item" onclick="toggleFeature(1)">
<div style="display: flex; justify-content: space-between; align-items: center;">
<div>
<svg class="feature-icon" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
<h3>Versatile Options</h3>
</div>
<span style="font-size: 2rem; opacity: 0.3; font-family: var(--font-serif);">02</span>
</div>
<div class="feature-content">
<p>Multiple lace types and lengths available to match your specific needs. Customize your perfect look.</p>
</div>
</div>
<div class="feature-item" onclick="toggleFeature(2)">
<div style="display: flex; justify-content: space-between; align-items: center;">
<div>
<svg class="feature-icon" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
<h3>Expert Support</h3>
</div>
<span style="font-size: 2rem; opacity: 0.3; font-family: var(--font-serif);">03</span>
</div>
<div class="feature-content">
<p>Our team is here to guide you. Personalized recommendations and aftercare support to ensure you love your Yotara experience.</p>
</div>
</div>
</div>
</div>
</section>

<!-- FEATURED PRODUCTS -->
<section class="section-padding" style="background: var(--white);">
<div class="container">
<div class="text-center reveal-on-scroll" style="margin-bottom: 3rem;">
<h2>Best Sellers</h2>
<p>Our most loved styles, ready to ship.</p>
</div>
<div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;" id="featured-products"></div>
<div class="text-center" style="margin-top: 3rem;">
<button class="btn btn-outline" onclick="openCollectionModal()">View Full Catalog</button>
</div>
</div>
</section>

<!-- TESTIMONIALS -->
<section class="section-padding">
<div class="container">
<div class="text-center reveal-on-scroll" style="margin-bottom: 4rem;">
<span style="color: var(--primary-burgundy); font-weight: 700; letter-spacing: 1px;">CUSTOMER STORIES</span>
<h2>Loved by Queens</h2>
</div>
<div class="testimonial-grid">
<div class="testimonial-card reveal-on-scroll">
<div class="stars">★★★★★</div>
<p class="quote">"The most natural texture I've ever felt. Absolutely transformed my confidence. The bone straight is a dream!"</p>
<p class="author">Sarah M.</p>
</div>
<div class="testimonial-card reveal-on-scroll" style="transition-delay: 0.1s;">
<div class="stars">★★★★★</div>
<p class="quote">"Premium quality at an honest price. Yotara is my go-to brand now. The shipping to Accra was so fast."</p>
<p class="author">Jessica L.</p>
</div>
<div class="testimonial-card reveal-on-scroll" style="transition-delay: 0.2s;">
<div class="stars">★★★★★</div>
<p class="quote">"Exceptional customer service and beautiful products. The Deep Wave holds curls perfectly!"</p>
<p class="author">Maria K.</p>
</div>
</div>
</div>
</section>

<!-- CTA SECTION -->
<section class="container reveal-on-scroll">
<div class="cta-section">
<div class="cta-bg-img" style="background-image: url('https://z-cdn-media.chatglm.cn/files/aa86a7d4-0d25-41b1-899d-c078dcfe422b.jpg?auth_key=1869987764-b5e66e4c499a478f88bc7589780704e0-0-d80c079d8456b4f9d145f070ac38f331');"></div>
<div class="cta-content">
<h2 class="cta-title">Ready to Glow Up?</h2>
<p style="font-size: 1.2rem; max-width: 600px; margin: 0 auto 2rem auto; opacity: 0.9;">
Join the movement of women who refuse to compromise on quality.
</p>
<button class="btn btn-gold" onclick="openCollectionModal()" style="padding: 18px 40px; font-size: 1.1rem;">Shop Now</button>
</div>
</div>
</section>

</main>

<!-- FOOTER -->
<footer>
<div class="container">
<div class="footer-grid">
<div>
<h2 style="color: var(--accent-gold); margin-bottom: 1rem;">Yotara</h2>
<p style="color: rgba(255,255,255,0.8); max-width: 300px;">
Premium Human Hair delivered with care across Ghana and Africa. Quality you can trust, styles you'll love.
</p>
</div>
<div>
<h3>Shop</h3>
<ul class="footer-links">
<li><a href="#" onclick="openCollectionModal(); return false;">All Collections</a></li>
<li><a href="#" onclick="filterCollection('Bone Straight'); return false;">Bone Straight</a></li>
<li><a href="#" onclick="filterCollection('Deep Wave'); return false;">Deep Wave</a></li>
</ul>
</div>
<div>
<h3>Support</h3>
<ul class="footer-links">
<li><a href="#" onclick="openAgentModal(); return false;">Contact Stylist</a></li>
<li><a href="#" onclick="openLegalModal('privacy'); return false;">Privacy Policy</a></li>
<li><a href="#" onclick="openLegalModal('refund'); return false;">Refund Policy</a></li>
</ul>
</div>
</div>
<div class="legal-line">
© 2026 Yotara Human Hair. All rights reserved. Registered Data Controller. Compliant with Ghana Data Protection Act, 2012 (Act 843).
</div>
</div>
</footer>

<!-- MODALS -->
<!-- 1. COLLECTION CATALOG MODAL -->
<div id="collection-modal" class="modal-overlay">
<div class="modal-content">
<button class="close-modal" onclick="closeCollectionModal()">×</button>
<div style="margin-bottom: 2rem;">
<h2 style="border-bottom: 2px solid var(--accent-gold); display: inline-block; padding-bottom: 0.5rem;">Full Collection</h2>
</div>
<div class="catalog-layout">
<div class="catalog-sidebar" id="catalog-types"></div>
<div class="catalog-content">
<h3 id="current-type-title" style="color: var(--primary-wine); margin-bottom: 1.5rem;">Select Type</h3>
<div class="catalog-grid" id="sku-grid"></div>
</div>
</div>
</div>
</div>

<!-- 2. ORDER MODAL -->
<div id="order-modal" class="modal-overlay">
<div class="modal-content" style="max-width: 500px; text-align: center;">
<button class="close-modal" onclick="closeOrderModal()">×</button>
<img id="order-img" src="" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid var(--accent-gold); margin-bottom: 1rem;">
<h3 id="order-sku" style="color: var(--primary-wine); font-size: 0.9rem; letter-spacing: 1px;">SKU</h3>
<h2 id="order-name" style="font-size: 2rem; margin-bottom: 0.5rem;">Product Name</h2>
<p id="order-specs" style="color: #666;">Specs</p>
<!-- Price Removed -->
<div class="consent-wrapper" style="background: #fff; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; border: 1px solid #ddd;">
<label style="display: flex; align-items: center; gap: 10px; cursor: pointer; font-size: 0.9rem; color: #555; justify-content: center;">
<input type="checkbox" id="order-consent" style="width: 18px; height: 18px; accent-color: var(--primary-burgundy);">
I agree to <a href="#" onclick="event.preventDefault(); openLegalModal('terms');" style="color: var(--primary-burgundy); text-decoration: underline;">Terms</a> & <a href="#" onclick="event.preventDefault(); openLegalModal('privacy');" style="color: var(--primary-burgundy); text-decoration: underline;">Privacy Policy</a>.
</label>
</div>
<button class="btn btn-primary" style="width: 100%;" onclick="initiateOrder()">Proceed to Payment</button>
</div>
</div>

<!-- 3. PAYMENT MODAL (WITH BACKEND FLOW) -->
<div id="payment-modal" class="modal-overlay">
<div class="modal-content" style="max-width: 600px; text-align: center;">
<button class="close-modal" onclick="closePaymentModal()">×</button>
<h2 style="margin-bottom: 1rem;">Secure Payment</h2>
<p style="margin-bottom: 2rem;">Select your Mobile Money provider to complete order.</p>

<!-- Initial Selection -->
<div class="payment-grid" id="payment-selection">
<div class="pay-card" onclick="processPayment('MTN')">
<div class="pay-logo" style="color: #ffcc00; border-color: #ffcc00;">MTN</div>
<span style="font-weight: 600;">MTN MoMo</span>
</div>
<div class="pay-card" onclick="processPayment('AirtelTigo')">
<div class="pay-logo" style="color: #ed1c24; border-color: #ed1c24;">AT</div>
<span style="font-weight: 600;">AirtelTigo</span>
</div>
<div class="pay-card" onclick="processPayment('Telecel')">
<div class="pay-logo" style="color: #00a651; border-color: #00a651;">TCL</div>
<span style="font-weight: 600;">Telecel Cash</span>
</div>
</div>

<!-- Backend Flow Visualization -->
<div class="flow-container" id="backend-flow">
<div class="flow-diagram" id="flow-diagram">
<!-- Node 1: Backend Server -->
<div class="flow-node" id="node-server">
<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"></rect><rect x="2" y="14" width="20" height="8" rx="2" ry="2"></rect><line x1="6" y1="6" x2="6.01" y2="6"></line><line x1="6" y1="18" x2="6.01" y2="18"></line></svg>
</div>
<!-- Node 2: Mobile Money API -->
<div class="flow-node" id="node-momo">
<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg>
</div>
<!-- Node 3: AI Logic -->
<div class="flow-node" id="node-ai">
<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2a10 10 0 1 0 10 10H12V2z"></path><path d="M12 2a10 10 0 0 1 10 10h-10V2z" transform="rotate(180 12 12)"></path><circle cx="12" cy="12" r="2"></circle></svg>
</div>
<!-- Animated Packet -->
<div class="data-packet"></div>
</div>
<div class="flow-status-text" id="flow-status">Initializing...</div>

<!-- System Log (Hidden) -->
<div class="system-log" id="sys-log"></div>
</div>
</div>
</div>

<!-- 4. AGENT MODAL (UPDATED WITH 3 STYLISTS) -->
<div id="agent-modal" class="modal-overlay">
<div class="modal-content" style="max-width: 700px; text-align: center;">
<button class="close-modal" onclick="closeAgentModal()">×</button>
<h2>Chat with Stylists</h2>
<div style="display: flex; justify-content: center; gap: 2rem; margin-top: 2rem; flex-wrap: wrap;">
<!-- Sammy -->
<div style="cursor: pointer;" onclick="chatWithAgent('233536127038')">
<img src="https://picsum.photos/seed/sammy/150/150" style="width: 80px; height: 80px; border-radius: 50%; border: 3px solid var(--accent-gold); margin-bottom: 0.5rem;">
<h4>Sammy</h4>
<span style="font-size: 0.8rem; color: #777;">Support</span>
</div>

<!-- Sandra -->
<div style="cursor: pointer;" onclick="chatWithAgent('233534100320')">
<img src="https://picsum.photos/seed/sandra/150/150" style="width: 80px; height: 80px; border-radius: 50%; border: 3px solid var(--accent-gold); margin-bottom: 0.5rem;">
<h4>Sandra</h4>
<span style="font-size: 0.8rem; color: #777;">Sales</span>
</div>

<!-- Nia -->
<div style="cursor: pointer;" onclick="chatWithAgent('233209983934')">
<img src="https://picsum.photos/seed/nia/150/150" style="width: 80px; height: 80px; border-radius: 50%; border: 3px solid var(--accent-gold); margin-bottom: 0.5rem;">
<h4>Nia</h4>
<span style="font-size: 0.8rem; color: #777;">Stylist</span>
</div>
</div>
</div>
</div>

<!-- 5. LEGAL MODAL -->
<div id="legal-modal" class="modal-overlay">
<div class="modal-content" style="max-width: 600px;">
<button class="close-modal" onclick="closeLegalModal()">×</button>
<div id="legal-body" style="max-height: 60vh; overflow-y: auto;"></div>
</div>
</div>

<!-- TOAST & CONSOLE TOGGLE -->
<div id="toast">Message</div>
<div class="console-toggle" onclick="toggleLog()">_CONSOLE</div>

<!-- SCRIPT -->
<script>
/* --- DATA --- */
const heroImages = [
"https://z-cdn-media.chatglm.cn/files/a708b968-7b60-4d6a-9851-d612737609ba.png?auth_key=1869987764-06629c1410a341948763b6077cfac813-0-e76d816bb93502e1146a254531b8a292",
"https://z-cdn-media.chatglm.cn/files/1d3f708c-ae7b-4698-b7f6-1417d8b4a36c.jpg?auth_key=1869987764-ee329e36b91c4aad833a98f504b789d3-0-1570b2bdec0c540e938b00c6d3b42872",
"https://z-cdn-media.chatglm.cn/files/99c87c14-98cf-4d12-b61c-729e6487de2a.jpg?auth_key=1869987764-22daabb6c8f24dc0963cf99e7bdf1ae1-0-5570631d5f6f7fea19121f30d6ed9a94",
"https://z-cdn-media.chatglm.cn/files/aa86a7d4-0d25-41b1-899d-c078dcfe422b.jpg?auth_key=1869987764-b5e66e4c499a478f88bc7589780704e0-0-d80c079d8456b4f9d145f070ac38f331"
];

// UPDATED COLLECTIONS WITH NEW IMAGES
const collectionData = [
{
title: "Bone Straight",
description: "Sleek, smooth, and effortlessly elegant.",
img: "https://i.pinimg.com/736x/14/ca/d9/14cad9637eff43cb9ec5188c9cb6905f.jpg",
style: "object-fit: cover;",
options: [
{ length: 10, lace: "5x5", sku: "BS-B10-H" },
{ length: 12, lace: "5x5", sku: "BS-B12-H" },
{ length: 14, lace: "13x4", sku: "BS-L14-H" },
{ length: 24, lace: "13x4", sku: "BS-L16-H" }
]
},
{
title: "Bob Wig",
description: "Chic, modern style with versatile shape.",
img: "https://z-cdn-media.chatglm.cn/files/1d3f708c-ae7b-4698-b7f6-1417d8b4a36c.jpg?auth_key=1869987764-ee329e36b91c4aad833a98f504b789d3-0-1570b2bdec0c540e938b00c6d3b42872",
style: "object-fit: contain; padding: 20px; background: #f9f9f9;",
options: [
{ length: 10, lace: "2x6", sku: "BB-B10-H" },
{ length: 12, lace: "4x4", sku: "BB-B12-H" },
{ length: 12, lace: "5x5", sku: "BB-B14-H" },
{ length: 14, lace: "13x4", sku: "BB-B10-5" }
]
},
{
title: "Body Wave",
description: "Natural movement and volume.",
img: "https://z-cdn-media.chatglm.cn/files/aa86a7d4-0d25-41b1-899d-c078dcfe422b.jpg?auth_key=1869987764-b5e66e4c499a478f88bc7589780704e0-0-d80c079d8456b4f9d145f070ac38f331",
style: "object-fit: contain; padding: 20px; background: #f9f9f9;",
options: [
{ length: 14, lace: "5x5", sku: "BW-B14-H" },
{ length: 16, lace: "5x5", sku: "BW-L16-H" },
{ length: 18, lace: "5x5", sku: "BW-L18-H" },
{ length: 20, lace: "13x4", sku: "BW-L20-H" },
{ length: 26, lace: "13x4", sku: "BW-L26-H" }
]
},
{
title: "Deep Wave",
description: "Dramatic texture with defined waves.",
img: "https://i.pinimg.com/736x/db/e4/1c/dbe41c5a33539a28972261decc10b0a8.jpg",
style: "object-fit: cover;",
options: [
{ length: 12, lace: "5x5", sku: "DW-B12-H" },
{ length: 14, lace: "13x4", sku: "DW-B14-H" },
{ length: 16, lace: "5x5", sku: "DW-B16-H" },
{ length: 18, lace: "13x4", sku: "DW-L18-H" },
{ length: 24, lace: "13x4", sku: "DW-L24-H" }
]
},
{
title: "Bouncy Curls",
description: "Vibrant, springy curls full of life.",
img: "https://i.pinimg.com/736x/2f/96/d3/2f96d35face47e4e00e9444a35e80175.jpg",
style: "object-fit: cover;",
options: [
{ length: 12, lace: "5x5", sku: "BC-B12-H" },
{ length: 14, lace: "13x4", sku: "BC-B14-H" },
{ length: 16, lace: "13x4", sku: "BC-B16-H" },
{ length: 22, lace: "5x5", sku: "BC-B22-H" }
]
},
{
title: "Pixie Curls",
description: "Short, playful curls for a bold statement.",
img: "https://i.pinimg.com/1200x/7f/22/15/7f22151f52e8dbdd2cc8d0e14c77773f.jpg",
style: "object-fit: cover;",
options: [
{ length: 16, lace: "2x6", sku: "PC-P10-H" },
{ length: 18, lace: "4x4", sku: "PC-P10-H" },
{ length: 20, lace: "4x4", sku: "PC-P10-H" },
{ length: 24, lace: "13x4", sku: "PC-L24-H" }
]
}
];

const legalContent = {
privacy: "<h3>Privacy Policy</h3><p>We comply with Ghana Act 843. We collect only necessary data for shipping and payment processing.</p>",
terms: "<h3>Terms & Conditions</h3><p>By purchasing, you agree to our return policy which requires lace to be uncut and hair unworn.</p>",
refund: "<h3>Refund Policy</h3><p>Refunds are processed within 5-7 business days to original MoMo wallet.</p>"
};

let currentOrder = null;

/* --- INIT --- */
document.addEventListener('DOMContentLoaded', () => {
initHeroSlider();
initMarquee();
renderCollections();
renderFeatured();
setupAnimations();

if(!localStorage.getItem('yotara_consent')) {
setTimeout(() => document.getElementById('cookie-banner').classList.add('active'), 2000);
}
});

/* --- ANIMATIONS & LOGIC --- */
function setupAnimations() {
const observer = new IntersectionObserver((entries) => {
entries.forEach(entry => {
if(entry.isIntersecting) {
entry.target.classList.add('is-visible');
}
});
}, { threshold: 0.1 });
document.querySelectorAll('.reveal-on-scroll').forEach(el => observer.observe(el));

let lastScrollY = window.scrollY;
let ticking = false;

window.addEventListener('scroll', () => {
lastScrollY = window.scrollY;
if (!ticking) {
window.requestAnimationFrame(() => {
updateParallax(lastScrollY);
ticking = false;
});
ticking = true;
}
});

function updateParallax(scrollY) {
const heroRight = document.querySelector('.hero-right');
const header = document.getElementById('main-header');

if(heroRight && scrollY < window.innerHeight) {
heroRight.style.transform = `translateY(${scrollY * 0.15}px)`;
}

if(scrollY > 50) header.classList.add('scrolled');
else header.classList.remove('scrolled');
}
}

function toggleFeature(index) {
const items = document.querySelectorAll('.feature-item');
items.forEach((item, i) => {
if(i === index) item.classList.add('active');
else item.classList.remove('active');
});
}

/* --- HERO SLIDER --- */
function initHeroSlider() {
const container = document.getElementById('hero-slider');
heroImages.forEach((url, i) => {
const div = document.createElement('div');
div.className = `hero-slide ${i === 0 ? 'active' : ''}`;
div.style.backgroundImage = `url('${url}')`;
container.appendChild(div);
});
let idx = 0;
const slides = document.querySelectorAll('.hero-slide');

setInterval(() => {
slides[idx].classList.remove('active');
idx = (idx + 1) % slides.length;
slides[idx].classList.add('active');
}, 5000);

container.addEventListener('mouseenter', () => clearInterval());
}

/* --- MARQUEE --- */
function initMarquee() {
const marqueeContent = document.getElementById('marquee-content');
const items = ["Premium Quality", "100% Human Hair", "Ethically Sourced", "Ghana Act 843 Compliant"];
const star = `<svg width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>`;

let html = '';
for(let i=0; i<3; i++) {
items.forEach(item => {
html += `<span class="marquee-item">${item} ${star}</span>`;
});
}
marqueeContent.innerHTML = html;
}

/* --- RENDER FUNCTIONS --- */
function renderCollections() {
const grid = document.getElementById('collections-grid');
grid.innerHTML = collectionData.map((item, i) => `
<div class="collection-card reveal-on-scroll" style="transition-delay: ${i * 0.1}s" onclick="filterCollection('${item.title}')">
<img src="${item.img}" alt="${item.title}" style="${item.style || ''}">
<div class="collection-overlay">
<h3 class="collection-title">${item.title}</h3>
<p class="collection-desc">${item.description}</p>
</div>
</div>
`).join('');
}

function renderFeatured() {
const grid = document.getElementById('featured-products');
const featured = collectionData.slice(0, 3);
grid.innerHTML = featured.map((p, i) => `
<div class="product-card reveal-on-scroll" style="transition-delay: ${i * 0.15}s">
<div class="card-img-wrap">
<img src="${p.img}" alt="${p.title}" style="${p.style || ''}">
</div>
<div class="card-body">
<h3 style="font-size: 1.5rem;">${p.title}</h3>
<p style="font-size: 0.9rem;">Available in multiple lengths</p>
<button class="btn btn-outline" style="margin-top: 1rem; font-size: 0.8rem; padding: 8px 20px;" onclick="filterCollection('${p.title}')">View Options</button>
</div>
</div>
`).join('');
}

/* --- MODAL LOGIC --- */
function openCollectionModal(initialIndex = 0) {
const modal = document.getElementById('collection-modal');
const sidebar = document.getElementById('catalog-types');
sidebar.innerHTML = '';
collectionData.forEach((item, index) => {
const btn = document.createElement('button');
btn.className = `catalog-btn ${index === initialIndex ? 'active' : ''}`;
btn.innerText = item.title;
btn.onclick = () => {
document.querySelectorAll('.catalog-btn').forEach(b => b.classList.remove('active'));
btn.classList.add('active');
renderSkus(index);
};
sidebar.appendChild(btn);
});
renderSkus(initialIndex);
modal.classList.add('active');
}

function renderSkus(index) {
const data = collectionData[index];
document.getElementById('current-type-title').innerText = data.title;
const grid = document.getElementById('sku-grid');
grid.innerHTML = data.options.map(opt => {
// No price calculation
return `
<div class="sku-card" onclick='openOrderModal("${data.title}", "${data.img}", ${opt.length}, "${opt.lace}", "${opt.sku}")'>
<img src="${data.img}" style="width:100%; height:120px; object-fit:cover; border-radius:8px; margin-bottom:0.5rem;">
<div style="font-weight:700;">${opt.length}"</div>
<div style="font-size:0.8rem; color:#777;">${opt.lace}</div>
<button class="btn btn-primary" style="padding: 6px 12px; font-size: 0.8rem; margin-top: 0.5rem;">Add</button>
</div>`;
}).join('');
}

function closeCollectionModal() { document.getElementById('collection-modal').classList.remove('active'); }
function filterCollection(type) {
const index = collectionData.findIndex(c => c.title === type);
if(index > -1) openCollectionModal(index);
}

function openOrderModal(type, img, length, lace, sku) {
// Removed price from object
currentOrder = { type, img, length, lace, sku };
document.getElementById('order-img').src = img;
document.getElementById('order-name').innerText = `${type} (${length}")`;
document.getElementById('order-sku').innerText = sku;
document.getElementById('order-specs').innerText = `Lace: ${lace}`;
// Removed order-price update
document.getElementById('order-consent').checked = false;
document.getElementById('order-modal').classList.add('active');
}
function closeOrderModal() {
document.getElementById('order-modal').classList.remove('active');
currentOrder = null;
}

function initiateOrder() {
if(!document.getElementById('order-consent').checked) {
showToast("Please accept terms.");
return;
}
closeOrderModal();
openPaymentModal();
}

/* --- BACKEND FLOW SIMULATION (MERGED LOGIC) --- */
function openPaymentModal() {
// Reset UI
document.getElementById('payment-selection').style.display = 'grid';
document.getElementById('backend-flow').classList.remove('active');
document.getElementById('payment-modal').classList.add('active');
}

function closePaymentModal() {
document.getElementById('payment-modal').classList.remove('active');
// Reset nodes
document.querySelectorAll('.flow-node').forEach(n => {
n.classList.remove('active', 'success');
n.querySelector('svg').setAttribute('stroke', '#999');
});
}

// Helper for console log
function logToConsole(msg) {
const logPanel = document.getElementById('sys-log');
const time = new Date().toLocaleTimeString('en-US', {hour12: false, hour: "numeric", minute: "numeric", second: "numeric"});
const entry = document.createElement('div');
entry.className = 'log-entry';
entry.innerHTML = `<span>[${time}]</span> ${msg}`;
logPanel.prepend(entry); // Add to top
}

function toggleLog() {
const logPanel = document.getElementById('sys-log');
if(logPanel.style.display === 'block') {
logPanel.style.display = 'none';
} else {
logPanel.style.display = 'block';
logPanel.scrollTop = logPanel.scrollHeight;
}
}

async function processPayment(provider) {
if(!currentOrder) return;

// Switch to Flow UI
document.getElementById('payment-selection').style.display = 'none';
document.getElementById('backend-flow').classList.add('active');

const nodes = {
server: document.getElementById('node-server'),
momo: document.getElementById('node-momo'),
ai: document.getElementById('node-ai')
};
const statusText = document.getElementById('flow-status');
const diagram = document.getElementById('flow-diagram');

// RESET
Object.values(nodes).forEach(n => n.classList.remove('active'));
logToConsole(`INITIATING TRANSACTION: ${currentOrder.sku}`);

try {
// STEP 1: USER -> BACKEND SERVER
statusText.innerText = "Connecting to Secure Server...";
nodes.server.classList.add('active');
diagram.classList.add('animating-1');
logToConsole("ENCRYPTING PAYLOAD (AES-256)...");
await new Promise(r => setTimeout(r, 1500));
diagram.classList.remove('animating-1');
nodes.server.classList.remove('active');
nodes.server.classList.add('success');

// STEP 2: SERVER -> MOBILE MONEY API
statusText.innerText = `Handshaking with ${provider} API...`;
nodes.momo.classList.add('active');
diagram.classList.add('animating-2');
logToConsole(`ROUTING TO ${provider} GATEWAY...`);
await new Promise(r => setTimeout(r, 2000));
diagram.classList.remove('animating-2');
nodes.momo.classList.remove('active');
nodes.momo.classList.add('success');

// STEP 3: API -> AI LOGIC (FRAUD CHECK)
statusText.innerText = "AI Risk Assessment...";
nodes.ai.classList.add('active');
diagram.classList.add('animating-3');
logToConsole("AI NEURAL NET: ANALYZING PATTERNS...");
await new Promise(r => setTimeout(r, 1500));
logToConsole("AI SCORE: 0.98 (SAFE)...");
diagram.classList.remove('animating-3');
nodes.ai.classList.remove('active');
nodes.ai.classList.add('success');

// SUCCESS
statusText.innerText = "Payment Verified!";
statusText.style.color = "var(--success)";
logToConsole("TRANSACTION CONFIRMED. HASH: 0x7F3A...");
showToast(`Payment Successful via ${provider}`);

setTimeout(() => {
// Send WhatsApp (Price removed)
const msg = `*NEW ORDER*%0AProduct: ${currentOrder.type}%0ASKU: ${currentOrder.sku}%0ALength: ${currentOrder.length}"%0ALace: ${currentOrder.lace}%0APayment: ${provider} MoMo (Verified)`;
window.open(`https://wa.me/233536127038?text=${msg}`, '_blank');
closePaymentModal();
}, 1000);

} catch (error) {
statusText.innerText = "Connection Failed";
logToConsole("ERROR: TIMEOUT");
}
}

function openAgentModal() { document.getElementById('agent-modal').classList.add('active'); }
function closeAgentModal() { document.getElementById('agent-modal').classList.remove('active'); }
function chatWithAgent(phone) { window.open(`https://wa.me/${phone}`, '_blank'); }

function openLegalModal(type) {
document.getElementById('legal-body').innerHTML = legalContent[type];
document.getElementById('legal-modal').classList.add('active');
}
function closeLegalModal() { document.getElementById('legal-modal').classList.remove('active'); }

/* --- UTILS --- */
function showToast(msg) {
const t = document.getElementById('toast');
t.innerText = msg;
t.classList.add('show');
setTimeout(() => t.classList.remove('show'), 3000);
}

function acceptCookies() {
localStorage.setItem('yotara_consent', 'accepted');
document.getElementById('cookie-banner').classList.remove('active');
}
function rejectCookies() {
localStorage.setItem('yotara_consent', 'rejected');
document.getElementById('cookie-banner').classList.remove('active');
}

window.onclick = (e) => {
if(e.target.classList.contains('modal-overlay')) e.target.classList.remove('active');
};

const styleSheet = document.createElement("style");
styleSheet.innerText = `@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }`;
document.head.appendChild(styleSheet);
</script>
</body>
</html>